<!doctype html>
<html lang="ru">

<head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <title>Статьи - История Typescript</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../../css/main.css">
    <script defer src="../../js/common.js" type="module"></script>
</head>

<body>
    <header></header>

    <div class="container">
        <h1>История Typescript</h1>

        <p>Создатели Typescript Steeve Lucco и Luke Hoban рассказывают, что все началось с ускорения работы Javascript в IE. В конце 2010 года IE уже догнал Хром по бенчмаркам.Следующим шагом Microsoft начал работу над улучшением инструментов разработки, первым из которых стал VS Code.</p>
        
        <p>В нем было 7000 строк кода и уходило по пол дня на поиск багов, связанных с неправильной типизацией и именованиями.Тогда Steeve Lucco (один из создателей Typescript) подумал, что гораздо важнее создать хороший инструмент для сборки, чем написать редактор кода.</p>
        
        <p>С такими же проблемами сталкивались и в других командах, например при переводе в веб классических офисных приложений Excel, Word, написанных на c++. Но JS не был предназначен для этого и встал вопрос как это реализовать?Тогда начались обсуждения и позвали руководителя подразделения разработки Anders Hejlsberg.<br>
        Люк и Стив имели в голове кусочки пазлов: классы, типы, объекты, enum'ы и т.д, но хотели, чтобы Андерс помог им собрать воедино.</p>
        
        <p>Первой появилась идея создать Script# - транспилятор C# в Javascript, т.к. только такие языки как C# и Java позволяли писать масштабные проекты. Так же это позволило бы не переучивать программистов.В это же время в Google решался подобный вопрос - улучшать JS или заменить его на Dart.</p>
        
        <p>После долгих размышлений Андерс решил, что Javascript не настолько плох, чтобы его заменять на что-то другое и в отличие от Google выбрал путь улучшения JS через добавление типизации.<br>
        Первый прототип компилятора сделал Стив, и это была версия 0.8.Он взял парсер Javascript, написанный на C++ и портировал его на Javascript и это позволило быть Typescript совместимым со всем вебом.</p>
        
        <p>А затем он начал добавлять аннотации типов наподобие параметров функций и проверил результат на багливом коде и компилятор сразу нашел ошибки.В это же время у команды появилась возможность нанять тимлида команды Eclipse Erich Gamma. Ему отдали VS Code с просьбой написать его полностью на Typescript и поделиться отзывом о компиляторе.</p>
        
        <p>Эрих рассказывает: "Чтобы написать основанный на веб-технологиях редактор пришлось основательно изучить Javascript и меня поразило, что книга Javascript the definitive guide достаточно объемная, а книга Javascript the good parts совсем тоненькая."<br>
        Затем он поехал в Microsoft и познакомился со Стивом, который ему рассказал про Strada (Именно так назывался сначала Typescript). И когда он увидел, как в редакторе свойства объекта подставляются через точку - это была любовь с первого взгляда.Раньше это было почти невозможно без знания типов.</p>
        
        <p>Написать такой сложный проект как VS Code без Typescript было бы невозможно.</p>
        
        <p>Для развития Typescript нужен был фидбек и его получали, создавая сотни тысяч строк кода VS Code. А затем у редактора появилась поддержка модулей и это дало еще большую обратную связь. Позже другие команды Microsoft начали мигрировать на Typescript и это дало еще больше возможностей для улучшения.</p>
        
        <p>Изначально было много идей.<br>
        Одна из них была идея статической типизации для удобного рефакторинга и навигации по коду. Другая идея была в поддержке самых современных фич Javascript.<br>
        И была еще третья идея - как-то передавать знания о типах в рантайм. Думали над пересечением типов, чтобы не дублировать много аннотаций, но тогда пришло понимание, что не нужно конкурировать с Javascript и завоевывать место веб-платформы, а нужно создать инструмент дополнительной типизации.</p>
        
        <p>Создатели понимали, что это должен быть open source продукт, но в Microsoft никто не владел опытом создания open source продуктов и очень сложно было убедить в этом менеджмент.<br>
        Все привыкли, что Microsoft это антипод всему открытому и боялись, что сообщество отнесется настороженно. Так же это была совершенно другая модель бизнеса. С другой стороны Microsoft всегда вносил большой вклад в open source, но Typescript был первым большим проектом, который целиком пошел в open source.<br>
        Аманде Сильвер понадобилось пол года, чтобы убедить в этом руководство. На текущий момент Microsoft стал крупнейшим контрибьютером в open source из всех компаний.</p>

        <p>В 2012 на конференции GOTO в Дании Андерс официально объявил о запуске Typescript, который был опубликован буквально за ночь до конференции. Там же произошла встреча Андерса с Ларсом Баком, который возглавлял разработку Dart в Google. Dart пытался заменить Javascript, а Typescript его исправить.</p>
        
        <p>Никто не мог заставить IE 6 поддерживать новые языки, поэтому Typescript сделал транспиляцию, это позволило писать современный код, который работал в старых браузерах и таким образом Typescript дал Javascript вторую жизнь.</p>
        
        <p>Следующим поворотным моментом стало событие, когда Борис Янков, один из пользователей Typescript выложил все накопленные на тот момент Microsoft тайпинги в репозиторий под названием DefinielyTyped. Раньше Microsoft бы его наказал за это, но в этого раз этого не случилось и пользователи поняли, что это действительно общий код, который они могут развивать. А дальше начали появляться альтернативные репозитории, например Typings и создатели Typescript должны были отвечать на вопрос какой репозиторий они рекомендуют пользователям. И тогда в npm было создано пространство @types. Дальше произошел взрывной рост популярности продукта и в Microsoft поняли силу open source и это начало менять подход и к остальным продуктам компании.</p>
        
        <p>В это же время в компании Google разработчики Angular решали вопрос с типизацией в своем фреймворке.<br>
        Misko Hevert и Igor Minar рассказывают, что AngularJS хорошо подходил для быстрого прототипирования, но создавать большие проекты было трудно, т.к. не было системы типов. Нужно было придумать как оформлять аннотации, так чтобы Angular мог работать с ними и компромиссом стали декораторы. Ближайшее из похожего - это был Closure Compiler от Google, но он не был популярным и поэтому мы сделали собственное решение ATscript, которое анонсировали на конференции NGEurope в 2014. И самой главный отзыв, который они получили был от команды Typescript, что они делают то же самое. Они предложили объединить усилия. Команда Angular провела встречу, где собрала представителей Typescript, Flow, Closure Compiler и др. И команда Typescript единственная проявляла интерес, чтобы работать вместе.</p>
        
        <p>Google очень консервативно подходит к выбору языков программирования, т.к. это влечет за собой много дорогих изменений. И поэтому получилась интересная ситуация, с одной стороны команда Angular выбрала Typescript, с другой стороны нужно было одобрение от Google. До этого еще ни один язык не проходил через такую процедуру одобрения, это было трудно, но в конце концов одобрение было получено.</p>
        
        <p>В итоге Typescript появился в кодовой базе Angular в 2015 году. Реакция сообщества на Angular 2 с Typescript была неоднозначной. Для многих это выглядело как излишнее усложнение, они хотели простой Javascript и вместо желаемого эффекта это дало толчок развитию React, т.к. те позиционировали себя не как фреймворк, а как простые функции на чистом Javascript.</p>
        
        <p>Команда Typescript участвует в TC39, помогая развивать Javascript. Typescript был впереди во многих аспектах, например раньше внедрил классы, декораторы и их опыт безусловно помог быстрее внедрить эти изменения в Javascript.</p>

        <p>Сейчас такое время, когда все фреймворки воюют друг с другом, например Next с Remix, в то время как Typescript не имеет конкурентов. Но так было не всегда. Несколько лет назад был серьезный конкурент Flow и в Twitter можно было прочитать сообщения в стиле "Typescript не так хорош как Flow".<br>
        Многие думали, что если React и Flow были созданы одной компанией, то они лучше подходили друг к другу, но это не так. Их создавали разные команды одной большой компании для разных целей. Бывший разработчик Typescript рассказывает, что Flow пытался вычислять каждый тип в приложении путем вычисления типов в зависимости от того, где они использовались.<br>
        Поэтому если тип где-то вычислялся как number, то он потом считался number во всем приложении. В то время как Typescript заставлял везде описывать типы явно. Эти два подхода имели два вида недостатков на разных уровнях. И результат компилирования в разных системах отличался. Постепенно Typescript начал использоваться во всех фреймворках: Angular, React, Vue, Svelte и стал языком по умолчанию, полностью вытеснив Flow.</p>
        
        <p>Создатели языка приложили много усилий, чтобы интегрировать его с популярными инструментами и добились того, что теперь наоборот инструменты с гордостью заявляют, что они сделали интеграцию с Typescript.<br>
        Они начали использовать Typescript внутри Microsoft, но потом стали узнать об использовании в других компаниях и когда Netflix объявил, что использует Typescript был "эффект вау", Netflix, реальная компания! Хотя это было забавно, т.к. Microsoft намного крупнее, но приятно, что другая компания с серьезным уровнем инжиниринга сделала такой выбор.<br>
        А сейчас почти каждый месяц слышно, что какая-то компания перешла на Typescript и создатели гордятся этим.</p>
        
        <p>Product manager Екатерина Пригара из JetBrains говорит, что WebStorm ввел поддержку Typescript 0.8 через месяц после первого релиза и они понимали, что технология от Microsoft будет многим интересна. Сейчас 40% пользователей WebStorm активно используют Typescript.JetBrains ежегодно проводит исследование состояния экосистемы разработки. В 2017 году 12% пользователей пробовали Typescript. В 2022 году эта цифра достигла 34%. При этом 18% использует как основной язык.</p>
        
        <p>Typescript это не только язык, но и целый набор инструментов для работы с Javascript.<br>
        Typescript можно разделить на синтаксис и инструментарий. Синтаксис - это надстройка над Javascript с аннотациями типов и объявлением интерфейсов, после работы которого вам нужен инструмент для очистки от аннотаций перед запуском Javascript и тогда появляется инструментарий. Typescript компилятор анализирует Javascript и выводит типы как из синтаксиса Typescript, так и из JSDoc.<br>
        JSDoc в отличие от описания типов Typescript можно оставить в коде, но поскольку большинство все равно пользуется упаковщиками, то разница стирается.Typescript значительно улучшает работу IDE таких, как VS Code и WebStorm. Даже если вы пишете код на чистом Javascript, ваша IDE использует Typescript парсер и подсказывает свойства объектов.<br>
        Поэтому можно с уверенностью сказать, что каждый пользователь VS Code - это Typescript пользователь.</p>
        
        <p>Создатели Typescript говорят, что они не проводят агрессивную маркетинговую политику и не пытаются продать его разработчикам. Основная цель - сделать хорошо и удобно разработчикам. Использование Typescript можно сравнить с привычкой чистить зубы - когда используешь это постоянно, то потом трудно отказаться.</p>
        
        <p>Интересная особенность Typescript состоит в том, что он должен постепенно исчезнуть. Команда TC39 действительно хочет улучшить Javascript и появление языка с типами - это просто способ ускорить этот процесс. Постепенно Javascript внедрит все особенности Typescript и тогда Typescript останется только как компилятор.<br>
        На текущий момент от этого больше всего удерживает отсутствие единого стандарта для описания типов.</p>

        <p>Если говорить про пути развития, то в первую очередь команда работает над улучшением скорости компиляции. Постепенно Typescript растет, начинает делать больше работы и скорость замедляется, переход на Rust должен частично решить эти проблемы. Второй путь развития - это визуализация ошибок, пользователю должно быть более понятно что сломалось и почему.</p>
        
        <p>И в заключение Андерс говорит:<br>
        - Команда Typescript очень гордится своим продуктом, тем как благодаря им Microsoft повернулся в сторону open source, как они влияют на развитие Javascript и как они улучшают жизнь простых разработчиков. Я никогда не вернусь к Javascript. Писать код на Javascript это как прыгать без парашюта.</p>

        <p><a href="https://www.youtube.com/watch?v=U6s2pdxebSo">Источник</a></p>

        <p>
            <br>
            <time datetime="2024-09-05">05.09.2024</time>
        </p>

    </div>

</body>

</html>