<!doctype html>
<html lang="ru">
<head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <title>Статьи - Шаблоны проектирования</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link rel="stylesheet" href="../../css/main.css">
    <script defer src="../../js/common.js" type="module"></script>
</head>

<body>
<header></header>

<div class="container">
    <h1>Шаблоны проектирования</h1>

    <p>порождающие шаблоны</p>
    <div><strong>Абстрактная фабрика (Abstract factory)</strong></div>
    <div><a href="http://m15.ru/pattern_abstract_factory_in_php" target="_blank" shape="rect">http://m15.ru/pattern_abstract_factory_in_php</a></div>
    <div>Класс, который представляет собой интерфейс для создания компонентов системы.</div>
    <div>Генерация связанных наборов классов</div>
    <div><em>GrantaFactory extends VazFactory</em></div>
    <div><em>GrantaSedan extends Sedan // Класс Sedan связан с VazFactory через GrantaFactory и GrantaSedan </em></div>
    <div><em>$grantaSedan = $grantaFactory-&gt;getSedan();</em></div>
    <div><em>$grantaSedan-&gt;getSpeed(); // фабричный метод</em></div>
    <div><em>$uazJeep-&gt;getSpeed();</em></div>
    <div>
        <hr />
        <div>
            <div>Строитель (Builder)</div>
            <div>
                <hr />
            </div>
            <div><strong>Фабричный метод (Factory method)</strong></div>
            <div>Определяет интерфейс для создания объекта, но оставляет подклассам решение о том, какой класс инстанцировать.</div>
            <div>Полиморфизм.</div>
            <div><em>VazFactory extends CarFactory</em></div>
            <div><em>$granta = $vazFactoryObj-&gt;getCar();</em></div>
            <div><em>$granta-&gt;getSpeed(); // одинаковый вызов</em></div>
            <div><em>$kamaz-&gt;getSpeed(); // у разных похожих объектов</em></div>
            <hr />
            <div>Отложенная инициализация (Lazy initialization)</div>
            <hr />
            <div>Пул одиночек (Multition)</div>
            <hr />
            <div>Объектный пул (Object pool)</div>
            <hr />
            <div><strong>Прототип (Prototype)</strong></div>
            <div>Определяет интерфейс создания объекта через клонирование другого объекта вместо создания через конструктор.</div>
            <div>Клонирование.</div>
            <div>Один класс для генерации разных типов. Типы сами определяют, что генерируется.</div>
            <div><em>Granta extends Car</em></div>
            <div><em>Kalina extends Car</em></div>
            <div><em>$carFactory = new CarFactory($granta, $kalina, ...)</em></div>
            <div><em>$granta2 = $carFactory-&gt;getGranta() // clone granta</em></div>
            <hr />
            <div>Получение ресурса есть инициализация (Resource acquisition is initialization)</div>
            <div>
                <hr />
            </div>
            <div><strong>Одиночка (Singleton)</strong></div>
            <div>Класс, который может иметь только один экземпляр.</div>
            <div><em>Car::getInstance()-&gt;getSpeed();</em></div>
        </div>
    </div>
    <div></div>
    <div>поведенческие шаблоны</div>
    <div></div>
    <div>
        <div>Цепочка ответственности (Chain of responsibility)</div>
        <hr />
        <div><strong>Команда</strong>, Action, Transaction <strong>(Command)</strong></div>
        <div>Представляет действие. Объект команды заключает в себе само действие и его параметры.
            Отделяет контроллер от модели, создает легко расширяемые системы.</div>
        <div>Инкапсулирование задач.</div>
        <div><em>$car-&gt;buy();</em></div>
        <div><em>function buy() {</em></div>
        <div><em> $car-&gt;execute();</em></div>
        <div><em>}</em>
            <hr />
            <p><strong>Интерпретатор (Interpreter)</strong></p>
            <div>Решает часто встречающуюся, но подверженную изменениям, задачу.</div>
            <div>Интерпретатор языка.</div>
            <div>Выполнение команд на уровне классов.</div>
            <div>- количество классов</div>
            <div><em>new CarCompare(new Granta(), new Kalina());</em>
                <hr />
                <p>Итератор, Cursor (Iterator)</p>
                <hr />
                <p>Посредник (Mediator)</p>
                <hr />
                <p>Хранитель, Token (Memento)</p>
                <hr />
                <p>Null Object (Null object)</p>
                <hr />
                <p><strong>Наблюдатель</strong>, Dependents, Publish-Subscribe, Listener (<strong>Observer</strong> или Publish/subscribe)</div></p>
            <div>Определяет зависимость типа «один ко многим» между объектами таким образом, что при изменении состояния одного объекта все зависящие от него оповещаются об этом событии.</div>
            <div>Изменение компонентов с минимальным воздействием на другие компоненты.</div>
            <div><em>$car = new Car();</em></div>
            <div><em>$carInfo = new CarInfo($car);</em></div>
            <div><em>$car-&gt;set('price', 300);</em></div>
            <div><em>$carInfo-&gt;alertChange($price, $value);</em>
                <hr />
                <p>Слуга (Servant)</p>
                <hr />
                <p>Спецификация (Specification)</p>
                <hr />
                <p>Состояние, Objects for States (State)</p>
                <hr />
                <p><strong>Стратегия (Strategy)</strong></div></p>
            <div>Предназначен для определения семейства алгоритмов, инкапсуляции каждого из них и обеспечения их взаимозаменяемости.</div>
            <div>Декомпозиция на подклассы.</div>
            <div>Отделение разных поведений от одного класса.</div>
            <div>Выделение общего алгоритма дочерних классов в отдельный класс.</div>
            <div><em>$cars = [new Granta(), new Kalina()];</em></div>
            <div><em>foreach ($cars) {</em></div>
            <div><em> $statistic = new Statistic($car);</em></div>
            <div><em> $statistic-&gt;getInfo();</em></div>
            <div><em>}</em>
                <hr />
                <p>Шаблонный метод (Template method)</p>
                <hr />
                <p><strong>Посетитель (Visitor)</strong></div></p>
            <div>Описывает операцию, которая выполняется над объектами других классов. При изменении класса Visitor нет необходимости изменять обслуживаемые классы.</div>
            <div>Лёгкое прохождение по дереву без раздутия интерфейса.</div>
            <div><em>$cars = new Cars();</em></div>
            <div><em>$cars-&gt; add(new Granta);</em></div>
            <div><em>$carInfo = new CarInfo();</em></div>
            <div><em>$cars-&gt;accept($carInfo);</em></div>
            <div><em>$carInfo-&gt;getInfo();</em>
                <hr />
                <p>Простая политика (Simple Policy)</p>
                <hr />
                <p>Event listener</p>
                <hr />
                <p>Single-serving visitor (Single-serving visitor)</p>
                <hr />
                <p>Hierarchical visitor (Hierarchical visitor)</div></p>
        </div>
    </div>
    <div></div>
    <div>структурные шаблоны</div>
    <div></div>
    <div>
        <div>Адаптер (Adapter/Wrapper)</div>
        <hr />
        <div>Мост (Bridge)</div>
        <hr />
        <div><strong>Компоновщик (Composite)</strong></div>
        <div>Объект, который объединяет в себе объекты, подобные ему самому.</div>
        <div>Объединение и управление группами схожих объектов.</div>
        <div>- нет информации о всех операциях делегирования</div>
        <div>- лишние операции</div>
        <div><em>$cars = new Cars();</em></div>
        <div><em>$cars-&gt;add($granta);</em></div>
        <div><em>$cars-&gt;add($kalina);</em></div>
        <div><em>$cars-&gt;getMaxSpeed();</em>
            <hr />
            <p><strong>Декоратор (Decorator)</strong></div></p>
        <div>Класс, расширяющий функциональность другого класса без использования наследования.
            Изменяет свойства конкретных объектов.</div>
        <div>Делегирование.</div>
        <div><em>$granta = new Granta();</em></div>
        <div><em>$granta-&gt;getPrice(); // 300</em></div>
        <div><em>$granta = new Sport($granta) ;</em></div>
        <div>
            <div><em>$granta-&gt;getPrice(); <a>// 800</a></em></div>
            <hr />
            <p><strong>Фасад (Facade)</strong></div></p>
        <div>Объект, который абстрагирует работу с несколькими классами, объединяя их в единое целое.</div>
        <div>Шлюз между системой и кодом.</div>
        <div>Одна точка входа, оболочка.</div>
        <div><em>$info = new CarInfo();</em></div>
        <div><em>$info-&gt;getCar('Granta');</em></div>
        <div>
            <hr />
            <p>Единая точка входа (Front Controller)</p>
            <hr />
            <p>Приспособленец (Flyweight)</p>
            <hr />
            <p>Заместитель (Proxy)</div></p>
    </div>


    <p>
        <br>
        <time datetime="2016-01-06">06.01.2016</time>
    </p>
</div>

</body>
</html>